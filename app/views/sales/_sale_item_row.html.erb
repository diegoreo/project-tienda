<!-- app/views/sales/_sale_item_row.html.erb -->
<tr class="sale-item-row" data-pos-sale-target="itemRow">
  <%= f.hidden_field :product_id %>
  <%= f.hidden_field :unit_price %>
  <%= f.hidden_field :subtotal %>
  <%= f.hidden_field :_destroy, value: "0" %>
  
  <td class="product-name-cell" data-pos-sale-target="productName"></td>
  <td class="stock-cell" data-pos-sale-target="stockInfo"></td>
  <td>
    <%= f.number_field :quantity, 
      min: 0.001, 
      step: 0.001,
      value: 1,
      class: "quantity-input",
      data: { action: "input->pos-sale#updateItemSubtotal" } %>
  </td>
  <td class="price-cell" data-pos-sale-target="priceDisplay"></td>
  <td>
    <%= f.number_field :discount, 
      min: 0, 
      step: 0.01, 
      value: 0,
      class: "discount-input",
      data: { action: "input->pos-sale#updateItemSubtotal" } %>
  </td>
  <td class="subtotal-cell" data-pos-sale-target="subtotalDisplay"></td>
  <td>
    <button 
      type="button" 
      class="btn-remove-item"
      data-action="click->pos-sale#removeItem"
    >
      ğŸ—‘ï¸
    </button>
  </td>
</tr>

<style>
  .btn-remove-item {
    padding: 0.5rem;
    background: #dc3545;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
  }

  .btn-remove-item:hover {
    background: #c82333;
  }

  .quantity-input, .discount-input {
    width: 100%;
  }
</style>