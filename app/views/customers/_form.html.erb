<div class="min-h-screen bg-gradient-to-br from-teal-50 to-cyan-50 py-8 px-4">
  <div class="max-w-4xl mx-auto">
    
    <!-- Breadcrumb -->
    <nav class="mb-6 text-sm">
      <%= link_to "Clientes", customers_path, class: "text-teal-600 hover:text-teal-800" %> 
      <span class="text-gray-400 mx-2">/</span>
      <span class="text-gray-600"><%= customer.new_record? ? "Nuevo cliente" : "Editar cliente" %></span>
    </nav>

    <!-- Header -->
    <div class="bg-gradient-to-r from-teal-600 to-cyan-600 rounded-xl shadow-lg p-6 mb-6 text-white">
      <h1 class="text-3xl font-bold">
        <%= customer.new_record? ? "Nuevo Cliente" : "Editar Cliente" %>
      </h1>
      <p class="text-teal-100 mt-1">Complete la información del cliente</p>
    </div>

    <!-- Formulario -->
    <div class="bg-white rounded-xl shadow-lg p-8">
      <%= form_with model: customer, local: true do |f| %>
        
        <!-- Errores -->
        <% if customer.errors.any? %>
          <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded">
            <div class="flex items-center mb-2">
              <svg class="w-5 h-5 text-red-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <h4 class="font-bold text-red-800"><%= pluralize(customer.errors.count, "error") %> impidieron guardar:</h4>
            </div>
            <ul class="list-disc list-inside text-red-700">
              <% customer.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <!-- Información básica -->
        <div class="mb-8">
          <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2 pb-2 border-b-2 border-teal-500">
            <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
            Información Básica
          </h2>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Nombre -->
            <div class="md:col-span-2">
              <%= f.label :name, "Nombre *", class: "block text-sm font-bold text-gray-700 mb-2" %>
              <%= f.text_field :name, 
                  class: "w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition", 
                  placeholder: "Nombre completo",
                  required: true,
                  autofocus: true %>
            </div>

            <!-- Tipo de cliente -->
            <div>
              <%= f.label :customer_type, "Tipo de cliente", class: "block text-sm font-bold text-gray-700 mb-2" %>
              <%= f.select :customer_type, 
                Customer.customer_types.keys.map { |key| [I18n.t("enums.customer.customer_type.#{key}"), key] },
                {}, 
                class: "w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition" %>
            </div>

            <!-- Teléfono -->
            <div>
              <%= f.label :phone, "Teléfono", class: "block text-sm font-bold text-gray-700 mb-2" %>
              <%= f.text_field :phone, 
                  class: "w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition", 
                  placeholder: "10 dígitos" %>
              <p class="mt-1 text-xs text-gray-500">Formato: 5512345678</p>
            </div>

            <!-- Email -->
            <div class="md:col-span-2">
              <%= f.label :email, "Email", class: "block text-sm font-bold text-gray-700 mb-2" %>
              <%= f.email_field :email, 
                  class: "w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition", 
                  placeholder: "cliente@ejemplo.com" %>
            </div>

            <!-- Dirección -->
            <div class="md:col-span-2">
              <%= f.label :address, "Dirección", class: "block text-sm font-bold text-gray-700 mb-2" %>
              <%= f.text_area :address, 
                  class: "w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition resize-vertical", 
                  rows: 2,
                  placeholder: "Dirección completa" %>
            </div>
          </div>
        </div>

        <!-- Información de crédito -->
        <div class="mb-8">
          <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2 pb-2 border-b-2 border-teal-500">
            <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
            </svg>
            Información de Crédito y Facturación
          </h2>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- RFC -->
            <div>
              <%= f.label :rfc, "RFC", class: "block text-sm font-bold text-gray-700 mb-2" %>
              <%= f.text_field :rfc, 
                  class: "w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition uppercase", 
                  placeholder: "XAXX010101000" %>
              <p class="mt-1 text-xs text-gray-500">Para facturación electrónica</p>
            </div>

            <!-- Límite de crédito -->
            <div>
              <%= f.label :credit_limit, "Límite de crédito", class: "block text-sm font-bold text-gray-700 mb-2" %>
              <%= f.number_field :credit_limit, 
                  class: "w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition", 
                  step: 0.01, 
                  min: 0, 
                  placeholder: "0.00" %>
              <p class="mt-1 text-xs text-gray-500">Dejar en 0 para ventas solo de contado</p>
            </div>
          </div>
        </div>

        <!-- Notas adicionales -->
        <div class="mb-8">
          <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2 pb-2 border-b-2 border-teal-500">
            <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
            Notas Adicionales
          </h2>

          <%= f.label :notes, "Notas", class: "block text-sm font-bold text-gray-700 mb-2" %>
          <%= f.text_area :notes, 
              class: "w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition resize-vertical", 
              rows: 3,
              placeholder: "Notas adicionales sobre el cliente..." %>
        </div>

        <!-- Botones -->
        <div class="flex gap-4 justify-end pt-6 border-t">
          <%= link_to "Cancelar", customers_path, 
              class: "px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition" %>
          
          <%= f.submit customer.new_record? ? "Crear Cliente" : "Actualizar Cliente", 
              class: "px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 text-white font-bold rounded-lg hover:from-teal-700 hover:to-cyan-700 transition shadow-md" %>
        </div>

      <% end %>
    </div>

  </div>
</div>