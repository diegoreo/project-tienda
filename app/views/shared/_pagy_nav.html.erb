<%
  # Pagy nav personalizado para Tailwind CSS (compatible con Pagy 6.x)
  html = +%(<nav class="flex items-center justify-between border-t border-gray-200 px-4 py-3 sm:px-6 mt-6" aria-label="Pagination">)
  
  # Botones para móvil
  html << %(<div class="flex-1 flex justify-between sm:hidden">)
  
  if pagy.prev
    html << %(<a href="#{pagy_url_for(pagy, pagy.prev)}" class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-md">← Anterior</a>)
  else
    html << %(<span class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-400 bg-white border border-gray-300 cursor-not-allowed rounded-md">← Anterior</span>)
  end
  
  if pagy.next
    html << %(<a href="#{pagy_url_for(pagy, pagy.next)}" class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-md">Siguiente →</a>)
  else
    html << %(<span class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-400 bg-white border border-gray-300 cursor-not-allowed rounded-md">Siguiente →</span>)
  end
  
  html << %(</div>)
  
  # Info y botones para desktop
  html << %(<div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">)
  
  # Texto de información
  html << %(<div><p class="text-sm text-gray-700">)
  html << %(Mostrando <span class="font-medium">#{pagy.from}</span> a <span class="font-medium">#{pagy.to}</span> de <span class="font-medium">#{pagy.count}</span> registros)
  html << %(</p></div>)
  
  # Botones de navegación
  html << %(<div><nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">)
  
  # Botón Anterior
  if pagy.prev
    html << %(<a href="#{pagy_url_for(pagy, pagy.prev)}" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
      <span class="sr-only">Anterior</span>
      <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
      </svg>
    </a>)
  else
    html << %(<span class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400 cursor-not-allowed">
      <span class="sr-only">Anterior</span>
      <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
      </svg>
    </span>)
  end
  
  # Números de página
  pagy.series.each do |item|
    html << case item
            when Integer
              if item == pagy.page
                %(<span aria-current="page" class="z-10 bg-blue-600 border-blue-600 text-white relative inline-flex items-center px-4 py-2 border text-sm font-medium">#{item}</span>)
              else
                %(<a href="#{pagy_url_for(pagy, item)}" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">#{item}</a>)
              end
            when String
              %(<span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">#{item}</span>)
            when :gap
              %(<span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">...</span>)
            end
  end
  
  # Botón Siguiente
  if pagy.next
    html << %(<a href="#{pagy_url_for(pagy, pagy.next)}" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
      <span class="sr-only">Siguiente</span>
      <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
      </svg>
    </a>)
  else
    html << %(<span class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400 cursor-not-allowed">
      <span class="sr-only">Siguiente</span>
      <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
      </svg>
    </span>)
  end
  
  html << %(</nav></div>)
  html << %(</div>)
  html << %(</nav>)
%>

<%= raw html %>